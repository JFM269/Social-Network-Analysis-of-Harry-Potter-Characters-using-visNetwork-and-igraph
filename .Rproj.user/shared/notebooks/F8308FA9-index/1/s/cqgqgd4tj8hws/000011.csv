"0","nodes_transformed <- nodes |>"
"0","  select(id = characters, label = characters, house = house) |>"
"0","  mutate("
"0","    house.type = case_when("
"0","      house == ""Gryffindor"" ~ 1,"
"0","      house == ""Slytherin"" ~ 2,"
"0","      house == ""Ravenclaw"" ~ 3,"
"0","      house == ""Hufflepuff"" ~ 4,"
"0","      TRUE ~ 5"
"0","    ),"
"0","    color = case_when("
"0","      house == ""Gryffindor"" ~ ""#800000"", # Dark Red for Gryffindor"
"0","      house == ""Slytherin"" ~ ""#006600"", # Green for Slytherin"
"0","      house == ""Ravenclaw"" ~ ""#0000FF"", # Blue for Ravenclaw"
"0","      house == ""Hufflepuff"" ~ ""#FFCC00"", # Yellow for Hufflepuff"
"0","      TRUE ~ ""#999999"" # Default color for others"
"0","    )"
"0","  )"
"0",""
"0","edges_transformed <- edges |>"
"0","  left_join(nodes_transformed, by = c(""source"" = ""label"")) |>"
"0","  rename(from = id) |>"
"0","  left_join(nodes_transformed, by = c(""target"" = ""label"")) |>"
"0","  rename(to = id) |>"
"0","  select(from, to, weight)"
"0",""
"0","network <- visNetwork(nodes_transformed, edges_transformed, width = ""100%"", main = ""Harry Potter House Network"") |>"
"0","  visLayout(randomSeed = 123) |>"
"0","  visLegend(width = 0.1, position = ""right"", main = ""House"") |>"
"0","  visOptions(highlightNearest = list(enabled = TRUE, degree = 1), nodesIdSelection = TRUE, selectedBy = ""house"") |>"
"0","  visEdges(smooth = FALSE, color = list(color = ""lightgray"", highlight = ""black""), width = 1, selectionWidth = 3) |>"
"0","  visPhysics(enabled = TRUE, solver = ""forceAtlas2Based"", forceAtlas2Based = list(gravitationalConstant = -50, centralGravity = 0.01, springLength = 150, avoidOverlap = 1)) |>"
"0","  visInteraction(hideEdgesOnDrag = TRUE, dragNodes = TRUE, dragView = TRUE, zoomView = TRUE, navigationButtons = TRUE)"
"0",""
"0","network"
